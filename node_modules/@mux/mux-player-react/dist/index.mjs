"use client";import d,{useEffect as ce,useState as pe}from"react";import{MaxResolution as Oe,MinResolution as Ge,RenditionOrder as we,generatePlayerInitTime as me}from"@mux/playback-core";import{MediaError as Ie}from"@mux/mux-player";import Q from"react";var m=parseInt(Q.version)>=19,p={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},X=e=>e==null,B=(e,n)=>X(n)?!1:e in n,ee=e=>e.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`),ne=(e,n)=>{if(!(!m&&typeof n=="boolean"&&!n)){if(B(e,p))return p[e];if(typeof n!="undefined")return/[A-Z]/.test(e)?ee(e):e}};var te=(e,n)=>!m&&typeof e=="boolean"?"":e,E=(e={})=>Object.entries(e).reduce((n,[t,o])=>{let r=ne(t,o);if(!r)return n;let i=te(o,t);return n[r]=i,n},{});import{useRef as Ee}from"react";import{useEffect as ae,useRef as re}from"react";var g=(...e)=>{let n=re(null);return ae(()=>{e.forEach(t=>{t&&(typeof t=="function"?t(n.current):t.current=n.current)})},[e]),n};import{useEffect as oe}from"react";var ie=Object.prototype.hasOwnProperty,se=(e,n)=>{if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(Array.isArray(e))return!Array.isArray(n)||e.length!==n.length?!1:e.some((r,i)=>n[i]===r);let t=Object.keys(e),o=Object.keys(n);if(t.length!==o.length)return!1;for(let r=0;r<t.length;r++)if(!ie.call(n,t[r])||!Object.is(e[t[r]],n[t[r]]))return!1;return!0},c=(e,n,t)=>!se(n,e[t]),le=(e,n,t)=>{e[t]=n},ue=(e,n,t,o=le,r=c)=>oe(()=>{let i=t==null?void 0:t.current;i&&r(i,n,e)&&o(i,n,e)},[t==null?void 0:t.current,n]),s=ue;var ye=()=>{try{return"3.4.0"}catch{}return"UNKNOWN"},de=ye(),f=()=>de;var ge=d.forwardRef(({children:e,...n},t)=>d.createElement("mux-player",E({...n,ref:t}),e)),a=(e,n,t)=>ce(()=>{let o=n==null?void 0:n.current;if(!(!o||!t))return o.addEventListener(e,t),()=>{o.removeEventListener(e,t)}},[n==null?void 0:n.current,t]),fe=(e,n)=>{let{onAbort:t,onCanPlay:o,onCanPlayThrough:r,onEmptied:i,onLoadStart:y,onLoadedData:M,onLoadedMetadata:P,onProgress:b,onDurationChange:v,onVolumeChange:x,onRateChange:T,onResize:h,onWaiting:R,onPlay:C,onPlaying:k,onTimeUpdate:L,onPause:S,onSeeking:O,onSeeked:G,onStalled:w,onSuspend:V,onEnded:I,onError:A,onCuePointChange:N,onCuePointsChange:D,onChapterChange:_,metadata:K,tokens:H,paused:U,playbackId:j,playbackRates:W,currentTime:z,themeProps:F,extraSourceParams:Z,castCustomData:q,_hlsConfig:J,...Y}=n;return s("playbackRates",W,e),s("metadata",K,e),s("extraSourceParams",Z,e),s("_hlsConfig",J,e),s("themeProps",F,e),s("tokens",H,e),s("playbackId",j,e),s("castCustomData",q,e),s("paused",U,e,(l,u)=>{u!=null&&(u?l.pause():l.play())},(l,u,$)=>l.hasAttribute("autoplay")&&!l.hasPlayed?!1:c(l,u,$)),s("currentTime",z,e,(l,u)=>{u!=null&&(l.currentTime=u)}),a("abort",e,t),a("canplay",e,o),a("canplaythrough",e,r),a("emptied",e,i),a("loadstart",e,y),a("loadeddata",e,M),a("loadedmetadata",e,P),a("progress",e,b),a("durationchange",e,v),a("volumechange",e,x),a("ratechange",e,T),a("resize",e,h),a("waiting",e,R),a("play",e,C),a("playing",e,k),a("timeupdate",e,L),a("pause",e,S),a("seeking",e,O),a("seeked",e,G),a("stalled",e,w),a("suspend",e,V),a("ended",e,I),a("error",e,A),a("cuepointchange",e,N),a("cuepointschange",e,D),a("chapterchange",e,_),[Y]},Me=f(),Pe="mux-player-react",be=d.forwardRef((e,n)=>{var y;let t=Ee(null),o=g(t,n),[r]=fe(t,e),[i]=pe((y=e.playerInitTime)!=null?y:me());return d.createElement(ge,{ref:o,defaultHiddenCaptions:e.defaultHiddenCaptions,playerSoftwareName:Pe,playerSoftwareVersion:Me,playerInitTime:i,...r})}),He=be;export{Oe as MaxResolution,Ie as MediaError,Ge as MinResolution,we as RenditionOrder,He as default,me as generatePlayerInitTime,Pe as playerSoftwareName,Me as playerSoftwareVersion};
//# sourceMappingURL=index.mjs.map
